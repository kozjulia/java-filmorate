## Это репозиторий проекта "Социальная сеть для оценки фильмов"
#### Бэкенд filmorate

Это сервис, который будет работать с фильмами и оценками пользователей, а также возвращать __топ__ фильмов, рекомендованных к просмотру
-------

Приложение **умеет** делать следующее:
1. Хранит фильмы
2. Хранит пользователей
3. Создаёт и обновляет фильмы
4. Создаёт и обновляет пользователей
5. Выводит список всех фильмов
6. Выводит список всех пользователей
7. Получает каждый фильм и данные о пользователях по их уникальному идентификатору
8. Добавляет в друзья
9. Удаляет из друзей
10. Выводит список пользователей, являющихся друзьями пользователя
11. Выводит список друзей, общих с другим пользователем
12. Пользователь ставит лайк фильму
13. Пользователь удаляет лайк с фильма
14. Возвращает список из первых фильмов по количеству лайков


Приложение написано на Java, использует Spring Boot и Maven, API соответствует REST. 
Тестовое покрытие кода 60%. Пример кода:
```java
public class Main {
    public static void main(String[] args) {
    }
}
```
------

## Описание модели данных
_____

![Диаграмма баз данных проекта](/filmorate_dbs.png)

##### Примеры запросов для основных операций моего приложения:
```sql
-- получение всех фильмов
SELECT *
FROM films;

-- получение всех пользователей
SELECT *
FROM users;

--  топ 10 наиболее популярных фильмов
SELECT f.film_id,
       f.film_name,
       COUNT(l.like_id) AS count_likes
FROM films AS f
LEFT OUTER JOIN likes AS l ON f.film_id = l.film.id
GROUP BY f.film_id
ORDER BY count_likes DESC
LIMIT 10;

-- список общих друзей с другим пользователем
SELECT f1.response_friend_id
FROM friends AS f1
WHERE f1.request_friend_id = 1
  AND f1.is_confirm = TRUE
  AND f1.response_friend_id IN
    (SELECT response_friend_id
     FROM friends
     WHERE request_friend_id = 3
       AND is_confirm = TRUE);
 
```
------
